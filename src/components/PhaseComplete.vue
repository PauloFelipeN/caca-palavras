<script setup lang="ts">
const props = defineProps<{
  phase: number
  message: string
  isFinalPhase: boolean
}>()

const emit = defineEmits<{
  nextPhase: []
  goHome: []
}>()

const nextPhase = () => {
  emit('nextPhase')
}

const goHome = () => {
  emit('goHome')
}
</script>

<template>
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="bg-white rounded-3xl p-8 max-w-2xl mx-auto text-center shadow-2xl border-4 border-love-pink/50 animate-pulse-slow">
      <!-- CelebraÃ§Ã£o -->
      <div class="text-6xl mb-6 animate-bounce-slow">
        <span v-if="!isFinalPhase">ğŸ‰âœ¨ğŸ’–âœ¨ğŸ‰</span>
        <span v-else>ğŸŠğŸ’•ğŸ‘‘ğŸ’•ğŸŠ</span>
      </div>
      
      <!-- TÃ­tulo -->
      <h2 class="font-romantic text-4xl md:text-5xl text-love-dark mb-4">
        <span v-if="!isFinalPhase">Fase {{ phase }} Completa!</span>
        <span v-else>Jogo Completo!</span>
      </h2>
      
      <!-- Mensagem personalizada -->
      <div class="bg-love-pink/20 rounded-2xl p-6 mb-6 border-2 border-love-pink/30">
        <p class="font-elegant text-lg md:text-xl text-love-dark leading-relaxed">
          {{ message }}
        </p>
      </div>
      
      <!-- Mensagem especial para o final -->
      <div v-if="isFinalPhase" class="mb-6">
        <div class="text-4xl mb-4 animate-float">ğŸ’‘</div>
        <p class="font-romantic text-2xl text-love-red mb-2">
          ParabÃ©ns, casal!
        </p>
        <p class="font-elegant text-lg text-love-dark">
          VocÃªs completaram toda a jornada da histÃ³ria de amor de vocÃªs. 
          Que esta seja apenas uma pequena parte de uma vida inteira de aventuras juntos!
        </p>
      </div>
      
      <!-- BotÃµes -->
      <div class="space-y-4">
        <button 
          v-if="!isFinalPhase"
          @click="nextPhase"
          class="bg-gradient-to-r from-love-red to-love-pink text-white font-romantic text-2xl px-8 py-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 border-2 border-white/50"
        >
          ğŸ’– PrÃ³xima Fase ğŸ’–
        </button>
        
        <button 
          @click="goHome"
          class="bg-gradient-to-r from-love-purple to-love-dark text-white font-romantic text-xl px-6 py-3 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 border-2 border-white/50"
        >
          <span v-if="isFinalPhase">ğŸ  Voltar ao InÃ­cio ğŸ </span>
          <span v-else>ğŸ  Menu Principal ğŸ </span>
        </button>
      </div>
      
      <!-- DecoraÃ§Ã£o final -->
      <div v-if="isFinalPhase" class="mt-8 text-3xl space-x-2">
        <span class="inline-block animate-float">ğŸ’•</span>
        <span class="inline-block animate-float" style="animation-delay: -0.3s">ğŸ’–</span>
        <span class="inline-block animate-float" style="animation-delay: -0.6s">ğŸ’</span>
        <span class="inline-block animate-float" style="animation-delay: -0.9s">ğŸ’—</span>
        <span class="inline-block animate-float" style="animation-delay: -1.2s">ğŸ’“</span>
      </div>
    </div>
  </div>
</template>